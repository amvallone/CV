<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Curriullum Vitae Andres Marcelo Vallone</title>
  <style>
    :root {
      --bg: #f4f4f9;
      --primary: #2c3e50;
      --secondary: #34495e;
      --accent: #e67e22;
      --card: #ffffff;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: #333;
    }
    /* CABECERA NUEVA EN DOS COLUMNAS */
    header {
      background: var(--card);
      padding: 20px 20px 10px 20px;
      display: flex;
      gap: 20px;
      align-items: center;
      justify-content: center;
      border-bottom: 4px solid var(--primary);
    }
    .header-photo {
      flex: 0 0 150px;
      display: flex;
      justify-content: center;
    }
    .header-photo img {
      width: 150px;
      height: 150px;
      border-radius: 10px;
      object-fit: cover;
      border: 3px solid var(--primary);
    }
    .header-content {
      flex: 1;
      max-width: 900px;
    }
    .header-topline {
      font-size: 0.8rem;
      color: #555;
      display: flex;
      gap: 15px;
      align-items: center;
      margin-bottom: 6px;
    }
    .contact-icon {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      text-decoration: none;
      color: #555;
      font-size: 0.75rem;
    }
    .contact-icon svg {
      width: 14px;
      height: 14px;
    }
    h1 {
      margin: 0;
      font-size: 1.6rem;
      color: var(--primary);
    }
    .summary {
      margin-top: 8px;
      font-size: 0.95rem;
      line-height: 1.4;
    }
    .lang-btn {
      margin-top: 10px;
      padding: 6px 14px;
      border: none;
      background: var(--accent);
      color: white;
      cursor: pointer;
      border-radius: 5px;
      font-size: 0.75rem;
    }

    nav {
      background: var(--secondary);
      padding: 10px;
      text-align: center;
    }
    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
      font-size: 0.9rem;
    }
    section {
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background: transparent;
    }
    h2 {
      border-bottom: 2px solid var(--primary);
      padding-bottom: 5px;
    }
    ul {
      padding-left: 18px;
    }
    /* lista de publicaciones generada */
    #publications-list li {
      margin-bottom: 6px;
    }

    /* Responsive */
    @media (max-width: 700px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      .header-content {
        max-width: 100%;
      }
      nav a {
        display: inline-block;
        margin: 5px 10px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-photo">
      <img src="tu-foto.jpg" alt="Foto personal">
    </div>
    <div class="header-content">
      <!-- línea pequeña de información -->
      <div class="header-topline">
        <a class="contact-icon" href="mailto:correo@ejemplo.cl" title="Enviar correo">
          <!-- icono mail -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#555"><path d="M20 4H4C2.9 4 2 4.9 2 6v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"/></svg>
          correo@ejemplo.cl
        </a>
        <a class="contact-icon" href="https://www.ejemplo.cl" target="_blank" rel="noopener" title="Sitio web">
          <!-- icono web -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#555"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm6.9 6h-3.3c-.2-1.5-.6-2.9-1.1-3.9 1.9.5 3.5 1.9 4.4 3.9zM12 4.1c.5.9 1 2.4 1.2 3.9h-2.4c.2-1.5.7-3 1.2-3.9zM8.5 5.1C8 6.2 7.6 7.6 7.4 9H4.1c.8-1.9 2.4-3.4 4.4-3.9zM4.1 15h3.3c.2 1.4.6 2.8 1.1 3.9-2-.5-3.6-2-4.4-3.9zm3.3-2H4.1c-.1-.3-.1-.7-.1-1s0-.7.1-1h3.3c-.1.3-.1.7-.1 1s0 .7.1 1zm2.8 0h3.6c-.1.8-.3 1.6-.5 2.3-.2.7-.5 1.3-.8 1.8-.3-.5-.6-1.1-.8-1.8-.2-.7-.4-1.5-.5-2.3zm3.6-2H10c.1-.8.3-1.6.5-2.3.2-.7.5-1.3.8-1.8.3.5.6 1.1.8 1.8.2.7.4 1.5.5 2.3zm1.3 4h3.3c-.8 1.9-2.4 3.4-4.4 3.9.5-1 1-2.4 1.1-3.9zm0-2c.1-.3.1-.7.1-1s0-.7-.1-1h3.3c.1.3.1.7.1 1s0 .7-.1 1h-3.3z"/></svg>
          www.ejemplo.cl
        </a>
      </div>
      <h1 id="title">Curriullum Vitae Andres Marcelo Vallone</h1>
      <p class="summary" id="general-text-top">
        Académico e investigador en ciencias empresariales, con experiencia en docencia universitaria, desarrollo de programas de postgrado y gestión de proyectos. Interés en innovación, emprendimiento y desarrollo regional.
      </p>
      <button class="lang-btn" onclick="toggleLanguage()">English / Español</button>
    </div>
  </header>

  <nav>
    <a href="#general" id="nav-general">Información General</a>
    <a href="#education" id="nav-education">Educación</a>
    <a href="#experience" id="nav-experience">Experiencia</a>
    <a href="#publications" id="nav-publications">Publicaciones</a>
    <a href="#conferences" id="nav-conferences">Presentaciones</a>
    <a href="#skills" id="nav-skills">Habilidades</a>
  </nav>

  <section id="general">
    <h2 id="general-title">Información General</h2>
    <p id="general-text">
      Aquí puedes escribir tu información personal, contacto y un breve resumen profesional.
    </p>
  </section>

  <section id="education">
    <h2 id="education-title">Educación</h2>
    <ul id="education-list">
      <li>Licenciatura en X - Universidad Y (Año)</li>
    </ul>
  </section>

  <section id="experience">
    <h2 id="experience-title">Experiencia</h2>
    <ul id="experience-list">
      <li>Puesto - Institución/Empresa (Años)</li>
    </ul>
  </section>

  <section id="publications">
    <h2 id="publications-title">Publicaciones</h2>
    <p style="font-size:0.8rem;color:#555;margin-top:-5px;">
      (Edita el bloque <code>bibtexData</code> en el script para añadir o actualizar tus publicaciones.)
    </p>
    <ul id="publications-list">
      <!-- Se llena automáticamente desde BibTeX -->
    </ul>
  </section>

  <section id="conferences">
    <h2 id="conferences-title">Presentaciones en Congresos</h2>
    <ul id="conferences-list">
      <li>Título de la ponencia, Congreso, Año</li>
    </ul>
  </section>

  <section id="skills">
    <h2 id="skills-title">Habilidades Técnicas</h2>
    <ul id="skills-list">
      <li>Lenguajes de programación, software, metodologías, etc.</li>
    </ul>
  </section>

  <script>
    /* Textos bilingües */
    const texts = {
      es: {
        title: "Curriullum Vitae Andres Marcelo Vallone",
        nav: ["Información General","Educación","Experiencia","Publicaciones","Presentaciones","Habilidades"],
        generalTitle: "Información General",
        generalText: "Aquí puedes escribir tu información personal, contacto y un breve resumen profesional.",
        educationTitle: "Educación",
        experienceTitle: "Experiencia",
        publicationsTitle: "Publicaciones",
        conferencesTitle: "Presentaciones en Congresos",
        skillsTitle: "Habilidades Técnicas"
      },
      en: {
        title: "Curriculum Vitae Andres Marcelo Vallone",
        nav: ["General Information","Education","Experience","Publications","Conference Presentations","Technical Skills"],
        generalTitle: "General Information",
        generalText: "Here you can write your personal info, contact details, and a short professional summary.",
        educationTitle: "Education",
        experienceTitle: "Experience",
        publicationsTitle: "Publications",
        conferencesTitle: "Conference Presentations",
        skillsTitle: "Technical Skills"
      }
    };

    let currentLang = "es";

    function toggleLanguage() {
      currentLang = currentLang === "es" ? "en" : "es";
      const t = texts[currentLang];
      document.getElementById("title").innerText = t.title;
      document.getElementById("nav-general").innerText = t.nav[0];
      document.getElementById("nav-education").innerText = t.nav[1];
      document.getElementById("nav-experience").innerText = t.nav[2];
      document.getElementById("nav-publications").innerText = t.nav[3];
      document.getElementById("nav-conferences").innerText = t.nav[4];
      document.getElementById("nav-skills").innerText = t.nav[5];
      document.getElementById("general-title").innerText = t.generalTitle;
      document.getElementById("general-text").innerText = t.generalText;
      document.getElementById("education-title").innerText = t.educationTitle;
      document.getElementById("experience-title").innerText = t.experienceTitle;
      document.getElementById("publications-title").innerText = t.publicationsTitle;
      document.getElementById("conferences-title").innerText = t.conferencesTitle;
      document.getElementById("skills-title").innerText = t.skillsTitle;
    }

    /*
      ==== PUBLICACIONES DESDE BIBTEX ====
      Pon aquí tus entradas BibTeX. Ejemplo:
      @article{vallone2024,
        title={Measuring innovation in coastal regions},
        author={Vallone, Andres M. and Perez, L.},
        journal={Journal of Coastal Development},
        year={2024},
        doi={10.1016/j.jcd.2024.01.001}
      }
      Puedes pegar varias una detrás de otra.
    */
    const bibtexData = `
@article{vallone2024,
  title={Measuring innovation in coastal regions},
  author={Vallone, Andres M. and Perez, L.},
  journal={Journal of Coastal Development},
  year={2024},
  doi={10.1016/j.jcd.2024.01.001}
}
@inproceedings{vallone2023,
  title={Local governance and public transport in Chile},
  author={Vallone, Andres M.},
  booktitle={Proceedings of the Latin American Urban Studies},
  year={2023}
}
`;

    // Parser sencillo (no cubre todos los casos de BibTeX muy complejos)
    function parseBibtex(bibtex) {
      const entries = bibtex.split('@').filter(x => x.trim().length > 0);
      return entries.map(raw => {
        const typeEnd = raw.indexOf('{');
        const type = raw.substring(0, typeEnd).trim();
        const body = raw.substring(typeEnd + 1);
        const keyEnd = body.indexOf(',');
        const key = body.substring(0, keyEnd).trim();
        const fieldsStr = body.substring(keyEnd + 1, body.lastIndexOf('}')).trim();

        const fields = {};
        // separa por líneas
        fieldsStr.split('\n').forEach(line => {
          line = line.trim();
          if (!line || line.startsWith('%')) return;
          const eq = line.indexOf('=');
          if (eq > -1) {
            const fieldName = line.substring(0, eq).trim().toLowerCase();
            let fieldVal = line.substring(eq + 1).trim();
            // quita comas finales
            if (fieldVal.endsWith(',')) fieldVal = fieldVal.slice(0, -1);
            // quita llaves o comillas
            fieldVal = fieldVal.replace(/^{|}$/g, '').replace(/^"|"$/g, '');
            fields[fieldName] = fieldVal;
          }
        });

        return {
          type,
          key,
          ...fields
        };
      });
    }

    function renderPublications() {
      const list = document.getElementById('publications-list');
      list.innerHTML = '';
      const pubs = parseBibtex(bibtexData);
      pubs.forEach(pub => {
        const li = document.createElement('li');
        const title = pub.title || '(Sin título)';
        const authors = pub.author ? pub.author.replace(/ and /g, ', ') : '';
        const source = pub.journal || pub.booktitle || '';
        const year = pub.year ? ` (${pub.year})` : '';
        const doi = pub.doi ? ` DOI: ${pub.doi}` : '';
        li.textContent = `${authors ? authors + '. ' : ''}"${title}." ${source}${year}.${doi}`;
        list.appendChild(li);
      });
    }

    // Render inicial
    renderPublications();
  </script>
</body>
</html>
